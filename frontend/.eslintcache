[{"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/CreatePosting.js":"1","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Follows.js":"2","/Users/sohye/Desktop/P/9_pen/frontend/src/store.js":"3","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/MyBlogs.js":"4","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/EditBlog.js":"5","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Blog.js":"6","/Users/sohye/Desktop/P/9_pen/frontend/src/actions/followActions.js":"7","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Main.js":"8","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Posting.js":"9","/Users/sohye/Desktop/P/9_pen/frontend/src/App.js":"10","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/CreateBlog.js":"11","/Users/sohye/Desktop/P/9_pen/frontend/src/constants/postingConstants.js":"12","/Users/sohye/Desktop/P/9_pen/frontend/src/actions/postingActions.js":"13","/Users/sohye/Desktop/P/9_pen/frontend/src/index.js":"14","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Profile.js":"15","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/EditPosting.js":"16","/Users/sohye/Desktop/P/9_pen/frontend/src/reducers/postingReducers.js":"17","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Signup.js":"18","/Users/sohye/Desktop/P/9_pen/frontend/src/components/Header.js":"19","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Login.js":"20","/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Search.js":"21"},{"size":7509,"mtime":1612924590484,"results":"22","hashOfConfig":"23"},{"size":3397,"mtime":1612953766425,"results":"24","hashOfConfig":"25"},{"size":1986,"mtime":1613006081123,"results":"26","hashOfConfig":"25"},{"size":7844,"mtime":1612835989708,"results":"27","hashOfConfig":"23"},{"size":5965,"mtime":1612798865318,"results":"28","hashOfConfig":"25"},{"size":7514,"mtime":1613158578580,"results":"29","hashOfConfig":"23"},{"size":1860,"mtime":1612951462908,"results":"30","hashOfConfig":"25"},{"size":5720,"mtime":1613163724002,"results":"31","hashOfConfig":"23"},{"size":11272,"mtime":1613133658901,"results":"32","hashOfConfig":"23"},{"size":2205,"mtime":1613163953918,"results":"33","hashOfConfig":"23"},{"size":4496,"mtime":1612924541885,"results":"34","hashOfConfig":"23"},{"size":1240,"mtime":1613006088856,"results":"35","hashOfConfig":"25"},{"size":3701,"mtime":1613005986061,"results":"36","hashOfConfig":"25"},{"size":385,"mtime":1611962971129,"results":"37","hashOfConfig":"25"},{"size":5794,"mtime":1613143161710,"results":"38","hashOfConfig":"23"},{"size":8069,"mtime":1612973333686,"results":"39","hashOfConfig":"25"},{"size":3184,"mtime":1613006094128,"results":"40","hashOfConfig":"25"},{"size":4455,"mtime":1613143175731,"results":"41","hashOfConfig":"23"},{"size":5688,"mtime":1613163339123,"results":"42","hashOfConfig":"23"},{"size":2214,"mtime":1613143134688,"results":"43","hashOfConfig":"23"},{"size":143,"mtime":1613162479751,"results":"44","hashOfConfig":"23"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1iwttb",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"c9acgn",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"73"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/CreatePosting.js",["89"],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Follows.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/store.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/MyBlogs.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/EditBlog.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Blog.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/actions/followActions.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Main.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Posting.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/App.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/CreateBlog.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/constants/postingConstants.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/actions/postingActions.js",["90","91","92"],"/Users/sohye/Desktop/P/9_pen/frontend/src/index.js",[],["93","94"],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Profile.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/EditPosting.js",["95","96","97","98"],"import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { getPostingDetails, updatePosting } from '../actions/postingActions';\nimport { CATEGORIES } from '../category';\nimport Loading from '../components/Loading';\nimport Message from '../components/Message';\nimport { blogGetList } from '../actions/blogActions';\nimport { RenderHashtags } from '../components/RenderHashtags';\nimport dotenv from 'dotenv';\nimport { POSTING_UPDATE_RESET } from '../constants/postingConstants';\n\ndotenv.config();\n\nexport default function EditPosting(props) {\n    const dispatch = useDispatch();\n    const postingId = props.match.params.postingId;\n    const redirectPath = props.location\n        ? props.location.search.split('=')[1]\n        : '/';\n\n    const userLogin = useSelector(state => state.userLogin);\n    const { userInfo } = userLogin;\n    const postingDetails = useSelector(state => state.postingDetails);\n    const { loading, error, success, posting } = postingDetails;\n    const postingUpdate = useSelector(state => state.postingUpdate);\n    const { loading: loadingUpdate, success: successUpdate, error: errorUpdate } = postingUpdate;\n    const blogList = useSelector(state => state.blogList);\n    const { blogs } = blogList;\n    const myblogs = blogs && blogs.filter(blog => blog.author._id === userInfo._id);\n\n    const [title, setTitle] = useState(posting ? posting.title : '');\n    const [blog, setBlog] = useState(posting ? posting.blog._id : '');\n    const [category, setCategory] = useState(posting ? posting.category : '');\n    const [text, setText] = useState(posting ? posting.text : '');\n    const [image, setImage] = useState(posting ? posting.image : '');\n    const [hashtags, setHashtags] = useState(posting ? posting.hashtags.join(',').toString()  : '');\n\n    const categories = CATEGORIES.map(category => (\n        <option value={category} key={category}>{category}</option>\n    ));\n\n    const mybloglist = myblogs \n    ? myblogs.map(blog => (\n        <option value={blog._id} key={blog._id}>{blog.title}</option>\n    ))\n    : <option value={null} disabled={true}>No Blog. You need to created a blog first.</option>\n    \n    const resetHandler = () => {\n        setTitle(posting ? posting.title : '');\n        setBlog(posting ? posting.blog._id : '');\n        setCategory(posting ? posting.category : '');\n        setText(posting ? posting.text : '');\n        setImage(posting ? posting.image : '');\n        setHashtags(posting ? posting.hashtags.join(',') : '');\n    };\n\n    const submitHandler = () => {\n        const hashList = RenderHashtags(hashtags);\n        dispatch(updatePosting({_id: postingId, title, blog, category, text, image, hashtags: hashList}));\n        if (success) {\n            alert('Your story has been successfully updated!');\n        }\n        props.history.push(`/postings/${postingId}`);\n    };\n\n    let isValid = false;\n    if (title !== '' && blog !== '' && category !== '' && text !== '' && image !== '') {\n        isValid = true;\n    }\n\n    \n    useEffect(() => {\n        if (!userInfo) {\n            alert('You need to login!');\n            props.history.push('/login');\n        }\n        dispatch(getPostingDetails(postingId));\n        dispatch(blogGetList());\n        resetHandler();\n        \n        if (successUpdate) {\n            dispatch({ type: POSTING_UPDATE_RESET });\n            props.history.push(`/postings/${postingId}`);\n            \n        }\n    },[dispatch, successUpdate, props.history, userInfo]);\n\n    return (\n        <div className=\"container__long\">\n            <form className=\"form__content\" onSubmit={submitHandler}>\n                <h1 className=\"form__title\">\n                    share a new story!\n                </h1>\n                {loading && <Loading />}\n                {error && <Message message=\"error\">{error}</Message>}\n                <div className=\"row\">\n                    <input\n                        className=\"form__input\"\n                        type=\"text\"\n                        id=\"title\"\n                        placeholder=\"title\"\n                        value={title}\n                        onChange={e => setTitle(e.target.value)}\n                    />\n                </div>\n                <div className=\"row\">\n                    <select\n                        className=\"form__input\"\n                        id=\"blog\"\n                        value={blog}\n                        onChange={e => setBlog(e.target.value)}\n                    >\n                        <option value='' defaultValue={true}>select blog</option>\n                        {mybloglist}\n                    </select>\n                </div>\n                <div className=\"row\">\n                    <select\n                            className=\"form__input\"\n                            id=\"category\"\n                            onChange={e => setCategory(e.target.value)}\n                            value={category}\n                    >\n                        <option defaultValue={true} value=\"\">select category</option>\n                        {categories}\n                    </select>\n                </div>\n                <div className=\"row\">\n                    <Editor\n                        apiKey={process.env.REACT_APP_EDITOR_API_KEY}\n                        initialValue={`<p>${posting ? posting.text : 'Write your story here'}</p>`}\n                        init={{\n                            height: 400,\n                            width: 800,\n                            menubar: false,\n                            content_style: 'body { font-family:Courier New, Courier, monospace; font-size:1.1rem }',\n                            plugins: [\n                                'advlist autolink lists link image charmap print preview anchor',\n                                'searchreplace visualblocks code fullscreen',\n                                'insertdatetime media table paste code help wordcount'\n                            ],\n                            toolbar:\n                                'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\n                        }}\n                        onEditorChange={setText}\n                    />\n                </div>\n                <div className=\"row\">\n                    <input\n                        className=\"form__input\"\n                        type=\"text\"\n                        id=\"image\"\n                        placeholder=\"image\"\n                        value={image}\n                        onChange={e => setImage(e.target.value)}\n                    />\n                </div>\n                <div className=\"row\">\n                    <input\n                        className=\"form__input\"\n                        type=\"text\"\n                        id=\"hashtags\"\n                        placeholder=\"enter hashtags separated by commas\"\n                        value={hashtags.toLowerCase().replace(/[^\\w\\s]/gi, ' ').replace(/ +/g, ',').replace(/,+/g,',')}\n                        onChange={e => setHashtags(e.target.value)}\n                    />\n                </div>\n                <div className=\"row\">\n                    <button \n                        className=\"form__btn btn\" \n                        type='submit'\n                        disabled={isValid ? false : true}\n                        style={{backgroundColor: isValid ? 'var(--Blue)' : 'var(--Gray)', boxShadow: !isValid && 'none'}}\n                    >\n                        update this story\n                    </button>\n                </div>\n                <div className=\"row between\">\n                    <button className=\"btn btn__reset\" type=\"reset\" onClick={resetHandler}>reset</button>\n                    <button className=\"btn btn__cancel\" onClick={() => props.history.push('/blogs')}>cancel</button>\n                </div>\n                \n            </form>\n        </div>\n    )\n}\n","/Users/sohye/Desktop/P/9_pen/frontend/src/reducers/postingReducers.js",["99","100","101"],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Signup.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/components/Header.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Login.js",[],"/Users/sohye/Desktop/P/9_pen/frontend/src/screens/Search.js",[],{"ruleId":"102","severity":1,"message":"103","line":89,"column":7,"nodeType":"104","endLine":89,"endColumn":67,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":18,"column":5,"nodeType":"108","messageId":"109","endLine":18,"endColumn":27},{"ruleId":"106","severity":1,"message":"110","line":19,"column":5,"nodeType":"108","messageId":"109","endLine":19,"endColumn":27},{"ruleId":"106","severity":1,"message":"111","line":20,"column":5,"nodeType":"108","messageId":"109","endLine":20,"endColumn":24},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","replacedBy":"115"},{"ruleId":"106","severity":1,"message":"116","line":18,"column":11,"nodeType":"108","messageId":"109","endLine":18,"endColumn":23},{"ruleId":"106","severity":1,"message":"117","line":27,"column":22,"nodeType":"108","messageId":"109","endLine":27,"endColumn":35},{"ruleId":"106","severity":1,"message":"118","line":27,"column":68,"nodeType":"108","messageId":"109","endLine":27,"endColumn":79},{"ruleId":"102","severity":1,"message":"119","line":87,"column":7,"nodeType":"104","endLine":87,"endColumn":57,"suggestions":"120"},{"ruleId":"106","severity":1,"message":"111","line":1,"column":368,"nodeType":"108","messageId":"109","endLine":1,"endColumn":387},{"ruleId":"106","severity":1,"message":"107","line":1,"column":389,"nodeType":"108","messageId":"109","endLine":1,"endColumn":411},{"ruleId":"106","severity":1,"message":"110","line":1,"column":413,"nodeType":"108","messageId":"109","endLine":1,"endColumn":435},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'myblogs'. Either include it or remove the dependency array.","ArrayExpression",["121"],"no-unused-vars","'POSTING_UNLIKE_REQUEST' is defined but never used.","Identifier","unusedVar","'POSTING_UNLIKE_SUCCESS' is defined but never used.","'POSTING_UNLIKE_FAIL' is defined but never used.","no-native-reassign",["122"],"no-negated-in-lhs",["123"],"'redirectPath' is assigned a value but never used.","'loadingUpdate' is assigned a value but never used.","'errorUpdate' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'postingId' and 'resetHandler'. Either include them or remove the dependency array.",["124"],{"desc":"125","fix":"126"},"no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},"Update the dependencies array to be: [dispatch, success, postingCreated, props.history, userInfo, myblogs]",{"range":"129","text":"130"},"Update the dependencies array to be: [dispatch, successUpdate, props.history, userInfo, postingId, resetHandler]",{"range":"131","text":"132"},[3051,3111],"[dispatch, success, postingCreated, props.history, userInfo, myblogs]",[3514,3564],"[dispatch, successUpdate, props.history, userInfo, postingId, resetHandler]"]